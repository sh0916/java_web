<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>

	<form name="frmLogin" method="post" action="login">
		아이디 : <input type="text" name="user_id">
		비밀번호 : <input type="text" name="user_pass">
		<input type="hidden" name="dark">
		<input type="checkbox" name="subject" value="java" checked="checked">자바
		<input type="checkbox" name="subject" value="c언어">c언어
		<input type="checkbox" name="subject" value="JSP">JSP
		<input type="checkbox" name="subject" value="안드로이드">안드로이드
		<input type="submit" value="로그인">
<!-- 		<button>로그인</button> -->
	</form>
	
	<script>
	
		document.querySelector("[type=submit]").addEventListener("click", function(event) {
			
			event.preventDefault();
			// doAjax();
			// doAjaxPost();
			doSubmit();
		});
	
		function doAjax() {
			
			console.log("doAjax 실행");
			
			let xhr = new XMLHttpRequest();
			
			xhr.open("get", "login?user_id=123&subject=a");
			
			xhr.send();
			
			xhr.onload = function() {
				
				let data = xhr.responseText;
				console.log(data);
				
				let json = JSON.parse(data);
				console.log('k :', json.k);
				console.log('k :', json['k']);
			}
		}
		
		function doAjaxPost() {
			
			console.log("doAjax 실행");
			
			let xhr = new XMLHttpRequest();
						
			xhr.open("post", "login");
			
			// setRequestHeader 는 open 한후 사용한다
			xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
			
			let param = "user_id=123&subject=a";
			xhr.send(param);
			
			xhr.onload = function() {
				
				let data = xhr.responseText;
				console.log(data);
				
				let json = JSON.parse(data);
				console.log('k :', json.k);
				console.log('k :', json['k']);
			}
		}
		
		function doSubmit() {
			
			let form = document.querySelector("form");
			form.submit();
		}
	
	</script>

</body>
</html>